(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{193:function(e,t,a){},251:function(e,t,a){"use strict";a.r(t);var r=a(17),s=a(22),i=a(19),o=a(18),n=a(20),c=a(5),l=a(44),d=a(0),m=a.n(d),u=a(2),p=a(12),h=a(21),g=function(e){var t=u.b.getImageSize(e.imageUrl),a=u.b.isRoot(),r=e.userId===u.b.getUserId();return m.a.createElement("li",null,m.a.createElement("div",{id:"container"},m.a.createElement("article",{className:"card ",id:"contauner"},m.a.createElement("div",{className:"media"},m.a.createElement("img",{className:t,src:e.imageUrl,alt:"pic1"})),m.a.createElement("div",{onClick:e.removePhoto.bind(void 0,e.id)},(a||r)&&m.a.createElement("div",{className:"btn fbPhotoCurationControl inner uiButtonGroup delete-button"},m.a.createElement("i",{className:"far fa-trash-alt "}))))))},f=(a(193),a(6)),v=a(45),P=a(24),E=a(42),b=a(139);function O(){var e=Object(l.a)(["\n        display: block;\n        margin: 0 auto;\n        border-color: red;\n"]);return O=function(){return e},e}var N=Object(f.css)(O()),y=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).uploadFile=function(){if(a.setState({error:"",msg:""}),a.state.file)if(a.state.file.size>=2e6)p.toast.error(m.a.createElement(h.d.errorToast,{text:"File size exceeds limit of 2MB."}),{position:p.toast.POSITION.TOP_RIGHT});else{var e=a.props.timeLineUserData.id,t=new FormData;t.append("file",a.state.file),t.append("loggedInUserId",e),a.props.addImage(t,e)}else p.toast.error(m.a.createElement(h.d.errorToast,{text:"Please upload a file."}),{position:p.toast.POSITION.TOP_RIGHT})},a.removePhoto=function(e){var t=a.props.timeLineUserData.id,r=a.props.loggedInUserData.id;a.props.removeImage(r,e,t)},a.onFileChange=function(e){a.setState({file:e.target.files[0],ready:!1},function(){return a.uploadFile()})},a.state={file:"",error:"",msg:"",ready:!0},a.uploadFile=a.uploadFile.bind(Object(c.a)(Object(c.a)(a))),a.onFileChange=a.onFileChange.bind(Object(c.a)(Object(c.a)(a))),a.removePhoto=a.removePhoto.bind(Object(c.a)(Object(c.a)(a))),a}return Object(n.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;e!==this.props.timeLineUserData.id&&(this.props.changeTimeLineUser(e),this.props.changeAllPictures(e),this.props.changeAllFriends(e))}},{key:"componentDidUpdate",value:function(e,t){this.props.addPicture.loading||this.props.addPicture===e.addPicture||this.setState({ready:!0});var a=this.getErrorMessage(e),r=this.getSuccessMessage(e);a?p.toast.error(m.a.createElement(h.d.errorToast,{text:a}),{position:p.toast.POSITION.TOP_RIGHT}):r&&p.toast.success(m.a.createElement(h.d.successToast,{text:r}),{position:p.toast.POSITION.TOP_RIGHT})}},{key:"getSuccessMessage",value:function(e){return!this.props.addPicture.hasError&&this.props.addPicture.message&&this.props.addPicture!==e.addPicture?this.props.addPicture.message:!this.props.removePicture.hasError&&this.props.removePicture.message&&this.props.removePicture!==e.removePicture?this.props.removePicture.message:null}},{key:"getErrorMessage",value:function(e){return this.props.addPicture.hasError&&e.addPicture.error!==this.props.addPicture.error?this.props.addPicture.message||"Server Error":this.props.removePicture.hasError&&e.removePicture.error!==this.props.removePicture.error?this.props.removePicture.message||"Server Error":null}},{key:"render",value:function(){var e=this;!this.state.ready&&this.props.picturesArr.length;var t=u.b.isRoot(),a=this.props.loggedInUserData.id===this.props.timeLineUserData.id,r=u.b.formatUsername(this.props.timeLineUserData.firstName,this.props.timeLineUserData.lastName);return m.a.createElement("section",{className:"galerry-section"},m.a.createElement("article",{className:"aside-article-photos"},m.a.createElement("div",{className:"gallery-article-intro"},m.a.createElement("div",{className:"gallery-aside-article-header"},m.a.createElement("div",{className:"aside-article-icon"},m.a.createElement("i",{className:"fas fa-images"})),m.a.createElement("h3",{className:"aside-article-title"},"Photos")),(t||a)&&m.a.createElement("div",{className:""},m.a.createElement("button",{className:"button update-info"},m.a.createElement("label",{className:"cursor-pointer",id:"upload",htmlFor:"fileUpload"}," ADD PHOTO",m.a.createElement("input",{className:"cursor-pointer",id:"fileUpload",onChange:this.onFileChange,type:"file"}))))),this.props.picturesArr.length>0?m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"hr-styles",style:{width:"90%"}}),this.state.ready?m.a.createElement("ul",{className:"grid-container"},this.props.picturesArr.map(function(t){return m.a.createElement(g,Object.assign({key:t.id,removePhoto:e.removePhoto},t,{userId:e.props.timeLineUserData.id}))})):m.a.createElement(v.CircleLoader,{css:N,sizeUnit:"px",size:150,color:"#61dafb",loading:!0})):m.a.createElement(d.Fragment,null,this.state.ready?m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"hr-styles",style:{width:"90%"}}),m.a.createElement("h3",{className:"text-center"},"There are no photos of ",m.a.createElement("span",{className:"username-gallery"},"".concat(r))," !"),m.a.createElement("div",{className:"hr-styles",style:{width:"90%"}})):m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"hr-styles",style:{width:"90%"}}),m.a.createElement(v.CircleLoader,{css:N,sizeUnit:"px",size:150,color:"#61dafb",loading:!0})))))}}]),t}(d.Component);t.default=Object(P.b)(function(e){return{addPicture:e.addPicture,removePicture:e.removePicture,picturesArr:e.fetchPictures.picturesArr,fetchPictures:e.fetchPictures,timeLineUserData:e.timeLineUserData,loggedInUserData:e.loggedInUserData}},function(e){return{changeTimeLineUser:function(t){e(Object(E.d)(t))},changeAllFriends:function(t){e(Object(E.c)(t))},changeAllPictures:function(t){e(Object(b.b)(t))},addImage:function(t,a){e(Object(b.a)(t,a))},removeImage:function(t,a,r){e(Object(b.d)(t,a,r))}}})(y)}}]);
//# sourceMappingURL=13.0f371e43.chunk.js.map