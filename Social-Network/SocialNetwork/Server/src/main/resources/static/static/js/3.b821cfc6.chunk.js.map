{"version":3,"sources":["components/auth/LoginPage.js"],"names":["LoginPage","props","_this","Object","c_Users_vaibh_Desktop_SocialMediaWebsite_Social_Network_SocialNetwork_Client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","c_Users_vaibh_Desktop_SocialMediaWebsite_Social_Network_SocialNetwork_Client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","c_Users_vaibh_Desktop_SocialMediaWebsite_Social_Network_SocialNetwork_Client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","handleBlur","field","event","setState","touched","c_Users_vaibh_Desktop_SocialMediaWebsite_Social_Network_SocialNetwork_Client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","state","c_Users_vaibh_Desktop_SocialMediaWebsite_Social_Network_SocialNetwork_Client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","validate","username","password","length","onChangeHandler","bind","c_Users_vaibh_Desktop_SocialMediaWebsite_Social_Network_SocialNetwork_Client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","onSubmitHandler","prevProps","prevState","loginError","hasError","toast","error","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","_common__WEBPACK_IMPORTED_MODULE_11__","errorToast","text","concat","message","position","POSITION","TOP_RIGHT","loginSuccess","redirect","success","successToast","history","push","target","name","value","preventDefault","canBeSubmitted","_this$state","login","_this$state2","errors","keys","some","x","_this2","_this$state3","isEnabled","shouldMarkError","shouldShow","className","style","margin","paddingTop","width","onSubmit","htmlFor","type","id","onChange","onBlur","aria-describedby","placeholder","disabled","Component","connect","ownProps","dispatch","loginAction","redirectAction"],"mappings":"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","file":"static/js/3.b821cfc6.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport '../../styles/FormPages.css';\nimport { toast } from 'react-toastify';\nimport { ToastComponent } from '../common';\nimport { connect } from 'react-redux';\nimport { loginAction, redirectAction } from '../../store/actions/authActions';\n\nclass LoginPage extends Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            username: '',\n            password: '',\n            touched: {\n                username: false,\n                password: false\n            }\n        };\n\n        this.onChangeHandler = this.onChangeHandler.bind(this);\n        this.onSubmitHandler = this.onSubmitHandler.bind(this);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.loginError.hasError && prevProps.loginError !== this.props.loginError) {\n            toast.error(<ToastComponent.errorToast text={`${this.props.loginError.message}`} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n        } else if (this.props.loginSuccess) {\n            this.props.redirect();\n\n            toast.success(<ToastComponent.successToast text={' You have successfully logged in!'} />, {\n                position: toast.POSITION.TOP_RIGHT\n            });\n\n            this.props.history.push('/');\n        }\n    }\n\n    onChangeHandler(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        });\n    }\n\n    onSubmitHandler(event) {\n        event.preventDefault();\n\n        if (!this.canBeSubmitted()) {\n            return;\n        }\n\n        const { username, password } = this.state;\n        this.props.login(username, password);\n    }\n\n    canBeSubmitted() {\n        const { username, password } = this.state;\n        const errors = this.validate(username, password);\n        const isDisabled = Object.keys(errors).some(x => errors[x])\n        return !isDisabled;\n    }\n\n    handleBlur = (field) => (event) => {\n        this.setState({\n            touched: { ...this.state.touched, [field]: true }\n        });\n    }\n\n    validate = (username, password) => {\n        return {\n            username: username.length === 0,\n            password: password.length === 0\n        }\n    }\n\n    render() {\n        const { username, password } = this.state;\n        const errors = this.validate(username, password);\n        const isEnabled = !Object.keys(errors).some(x => errors[x])\n\n        const shouldMarkError = (field) => {\n            const hasError = errors[field];\n            const shouldShow = this.state.touched[field];\n\n            return hasError ? shouldShow : false;\n        }\n\n        return (\n            <section className=\"pt-3\">\n                <div className=\"container login-form-content-section pb-4 \" >\n                    <h1 className=\"text-center font-weight-bold mt-4\" style={{ 'margin': '1rem auto', 'paddingTop': '2rem' }}>Login</h1>\n                    <div className=\"hr-styles\" style={{ 'width': '70%' }}></div>\n\n                    <form className=\"Login-form-container\" onSubmit={this.onSubmitHandler}>\n                        <div className=\"form-group\">\n                            <label htmlFor=\"username\">Username</label>\n                            <input\n                                type=\"text\"\n                                className={\"form-control \" + (shouldMarkError('username') ? \"error\" : \"\")}\n                                id=\"username\"\n                                name=\"username\"\n                                value={this.state.username}\n                                onChange={this.onChangeHandler}\n                                onBlur={this.handleBlur('username')}\n                                aria-describedby=\"usernameHelp\"\n                                placeholder=\"Enter username\"\n                            />\n                            {shouldMarkError('username') && <small id=\"usernameHelp\" className=\"form-text alert alert-danger\">Username is required!</small>}\n                        </div>\n\n                        <div className=\"form-group\">\n                            <label htmlFor=\"password\" >Password</label>\n                            <input\n                                type=\"password\"\n                                className={\"form-control \" + (shouldMarkError('password') ? \"error\" : \"\")}\n                                id=\"password\"\n                                name=\"password\"\n                                value={this.state.password}\n                                onChange={this.onChangeHandler}\n                                onBlur={this.handleBlur('password')}\n                                aria-describedby=\"passwordHelp\"\n                                placeholder=\"Enter password\"\n                            />\n                            {shouldMarkError('password') && <small id=\"passwordHelp\" className=\"form-text alert alert-danger\">Password is required!</small>}\n                        </div>\n\n                        <div className=\"text-center\">\n                            <button disabled={!isEnabled} type=\"submit\" className=\"btn App-button-primary btn-lg m-3\">Login</button>\n                        </div>\n                    </form>\n                </div>\n            </section>\n        )\n    }\n};\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        loginSuccess: state.login.success,\n        loginError: state.loginError\n    }\n}\n\nfunction mapDispatchToProps(dispatch, ownProps) {\n    return {\n        login: (username, password) => dispatch(loginAction(username, password)),\n        redirect: () => dispatch(redirectAction())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginPage);\n"],"sourceRoot":""}