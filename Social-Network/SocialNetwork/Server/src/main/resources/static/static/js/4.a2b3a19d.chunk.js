(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{139:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"d",function(){return c}),a.d(t,"c",function(){return m}),a.d(t,"b",function(){return p});var r=a(2),n=a(1);function s(e,t,a,r){return{type:n.l,error:e,message:t,status:a,path:r}}function o(e,t){return function(a){return a({type:n.k}),r.a.addPhoto("/pictures/add",e,function(e){if(e.error){var r=e.error,o=e.message,i=e.status,c=e.path;a(s(r,o,i,c))}else a(p(t)),a(function(e){return{type:n.m,payload:e}}(e))}).catch(function(e){403===e.status&&"Your JWT token is expired. Please log in!"===e.message&&localStorage.clear(),a(s("","Error: ".concat(e.message),e.status,""))})}}function i(e,t,a,r){return{type:n.bc,error:e,message:t,status:a,path:r}}function c(e,t,a){var s={loggedInUserId:e,photoToRemoveId:t};return function(e){return e({type:n.ac}),r.a.post("/pictures/remove",s,function(t){if(t.error){var r=t.error,s=t.message,o=t.status,c=t.path;e(i(r,s,o,c))}else e(p(a)),e(function(e){return{type:n.cc,payload:e}}(t))}).catch(function(t){403===t.status&&"Your JWT token is expired. Please log in!"===t.message&&localStorage.clear(),e(i("","Error: ".concat(t.message),t.status,""))})}}function l(e,t,a,r){return{type:n.wb,error:e,message:t,status:a,path:r}}function m(e){return function(t){return t({type:n.vb}),r.a.get("/pictures/all/"+e,function(e){if(e.error){var a=e.error,r=e.message,s=e.status,o=e.path;t(l(a,r,s,o))}else t((i=e,{type:n.xb,payload:i}));var i}).catch(function(e){403===e.status&&"Your JWT token is expired. Please log in!"===e.message&&localStorage.clear(),t(l("","Error: ".concat(e.message),e.status,""))})}}function u(e,t,a,r){return{type:n.y,error:e,message:t,status:a,path:r}}var d=function(e){return{type:n.lc,payload:e}};function p(e){return function(t){return t({type:n.x}),r.a.get("/pictures/all/"+e,function(e){if(e.error){var a=e.error,r=e.message,s=e.status,o=e.path;t(u(a,r,s,o))}else t(d(e)),t((i=e,{type:n.z,payload:i}));var i}).catch(function(e){403===e.status&&"Your JWT token is expired. Please log in!"===e.message&&localStorage.clear(),t(u("","Error: ".concat(e.message),e.status,""))})}}},156:function(e,t,a){"use strict";t.__esModule=!0;var r=a(185);t.default=r.TextareaAutosize},181:function(e,t,a){},183:function(e,t,a){},185:function(e,t,a){"use strict";var r=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])};return function(t,a){function r(){this.constructor=t}e(t,a),t.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}}(),n=this&&this.__assign||Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s=this&&this.__rest||function(e,t){var a={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(a[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(r=Object.getOwnPropertySymbols(e);n<r.length;n++)t.indexOf(r[n])<0&&(a[r[n]]=e[r[n]])}return a};t.__esModule=!0;var o=a(0),i=a(7),c=a(186),l=a(187),m="autosize:update",u="autosize:destroy",d="autosize:resized",p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.dispatchEvent=function(e){switch(e){case m:c.update(t.textarea);break;case u:c.destroy(t.textarea);break;case d:var a=document.createEvent("Event");a.initEvent(d,!0,!1),t.textarea.dispatchEvent(a)}},t.updateLineHeight=function(){t.setState({lineHeight:l(t.textarea)})},t.onChange=function(e){var a=t.props.onChange;t.currentValue=e.currentTarget.value,a&&a(e)},t.saveDOMNodeRef=function(e){var a=t.props.innerRef;a&&a(e),t.textarea=e},t.getLocals=function(){var e=t,a=e.props,r=(a.onResize,a.maxRows),o=(a.onChange,a.style),i=(a.innerRef,s(a,["onResize","maxRows","onChange","style","innerRef"])),c=e.state.lineHeight,l=e.saveDOMNodeRef,m=r&&c?c*r:null;return n({},i,{saveDOMNodeRef:l,style:m?n({},o,{maxHeight:m}):o,onChange:t.onChange})},t}return r(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,a=t.onResize,r=t.maxRows,n=t.async;"number"===typeof r&&this.updateLineHeight(),"number"===typeof r||n?setTimeout(function(){return c(e.textarea)}):c(this.textarea),a&&this.textarea.addEventListener(d,a)},t.prototype.componentWillUnmount=function(){var e=this.props.onResize;e&&this.textarea.removeEventListener(d,e),this.dispatchEvent(u)},t.prototype.render=function(){var e=this.getLocals(),t=e.children,a=e.saveDOMNodeRef,r=s(e,["children","saveDOMNodeRef"]);return o.createElement("textarea",n({},r,{ref:a}),t)},t.prototype.componentDidUpdate=function(){this.dispatchEvent(m)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:i.number,maxRows:i.number,onResize:i.func,innerRef:i.func,async:i.bool},t}(o.Component);t.TextareaAutosize=p},186:function(e,t,a){var r,n,s;n=[e,t],void 0===(s="function"===typeof(r=function(e,t){"use strict";var a="function"===typeof Map?new Map:function(){var e=[],t=[];return{has:function(t){return e.indexOf(t)>-1},get:function(a){return t[e.indexOf(a)]},set:function(a,r){-1===e.indexOf(a)&&(e.push(a),t.push(r))},delete:function(a){var r=e.indexOf(a);r>-1&&(e.splice(r,1),t.splice(r,1))}}}(),r=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(c){r=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function n(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!a.has(e)){var t=null,n=null,s=null,o=function(){e.clientWidth!==n&&m()},i=function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",m,!1),e.removeEventListener("keyup",m,!1),e.removeEventListener("autosize:destroy",i,!1),e.removeEventListener("autosize:update",m,!1),Object.keys(t).forEach(function(a){e.style[a]=t[a]}),a.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",i,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",m,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",m,!1),e.addEventListener("autosize:update",m,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",a.set(e,{destroy:i,update:m}),function(){var a=window.getComputedStyle(e,null);"vertical"===a.resize?e.style.resize="none":"both"===a.resize&&(e.style.resize="horizontal"),t="content-box"===a.boxSizing?-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)):parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth),isNaN(t)&&(t=0),m()}()}function c(t){var a=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=a,e.style.overflowY=t}function l(){if(0!==e.scrollHeight){var a=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),r=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,a.forEach(function(e){e.node.scrollTop=e.scrollTop}),r&&(document.documentElement.scrollTop=r)}}function m(){l();var t=Math.round(parseFloat(e.style.height)),a=window.getComputedStyle(e,null),n="content-box"===a.boxSizing?Math.round(parseFloat(a.height)):e.offsetHeight;if(n<t?"hidden"===a.overflowY&&(c("scroll"),l(),n="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==a.overflowY&&(c("hidden"),l(),n="content-box"===a.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),s!==n){s=n;var o=r("autosize:resized");try{e.dispatchEvent(o)}catch(i){}}}}function s(e){var t=a.get(e);t&&t.destroy()}function o(e){var t=a.get(e);t&&t.update()}var i=null;"undefined"===typeof window||"function"!==typeof window.getComputedStyle?((i=function(e){return e}).destroy=function(e){return e},i.update=function(e){return e}):((i=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return n(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},i.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],o),e}),t.default=i,e.exports=t.default})?r.apply(t,n):r)||(e.exports=s)},187:function(e,t,a){var r=a(188);e.exports=function(e){var t=r(e,"line-height"),a=parseFloat(t,10);if(t===a+""){var n=e.style.lineHeight;e.style.lineHeight=t+"em",t=r(e,"line-height"),a=parseFloat(t,10),n?e.style.lineHeight=n:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(a*=4,a/=3):-1!==t.indexOf("mm")?(a*=96,a/=25.4):-1!==t.indexOf("cm")?(a*=96,a/=2.54):-1!==t.indexOf("in")?a*=96:-1!==t.indexOf("pc")&&(a*=16),a=Math.round(a),"normal"===t){var s=e.nodeName,o=document.createElement(s);o.innerHTML="&nbsp;","TEXTAREA"===s.toUpperCase()&&o.setAttribute("rows","1");var i=r(e,"font-size");o.style.fontSize=i,o.style.padding="0px",o.style.border="0px";var c=document.body;c.appendChild(o),a=o.offsetHeight,c.removeChild(o)}return a}},188:function(e,t){e.exports=function(e,t,a){return((a=window.getComputedStyle)?a(e):e.currentStyle)[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}},247:function(e,t,a){"use strict";a.r(t);var r=a(17),n=a(22),s=a(19),o=a(18),i=a(20),c=a(5),l=a(44),m=a(0),u=a.n(m),d=a(46),p=a(12),h=a(21),f=a(2),g=a(6),v=a(45),E=a(9),b=function(e){return u.a.createElement("article",{className:"main-article-header"},u.a.createElement("nav",null,u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement(E.b,{className:"timeline ",exact:!0,to:"/home/comments/".concat(e.id)},u.a.createElement("i",{className:"fas fa-video"}),u.a.createElement("div",{className:""},"TIMELINE"))),u.a.createElement("li",null,u.a.createElement(E.b,{className:"about  ",exact:!0,to:"/home/profile/".concat(e.id)},u.a.createElement("i",{className:"fas fa-info-circle"}),u.a.createElement("div",null,"PROFILE"))),u.a.createElement("li",null,u.a.createElement(E.b,{className:"friends ",exact:!0,to:"/home/friends/".concat(e.id)},u.a.createElement("i",{className:"fas fa-user-friends"}),u.a.createElement("div",null,"FRIENDS"))),u.a.createElement("li",null,u.a.createElement(E.b,{className:"photos ",exact:!0,to:"/home/gallery/".concat(e.id)},u.a.createElement("i",{className:"fas fa-camera-retro"}),u.a.createElement("div",null,"PHOTOS"))))))},y=a(43),P=a(25),N=a.n(P),U=a(32),O=a.n(U),I=function(e){var t=e.profilePicUrl||N.a,a=e.backgroundImageUrl||O.a,r="";e.profilePicUrl&&(r=y.a.getImageSize(t));var n=y.a.formatUsername(e.firstName,e.lastName);return u.a.createElement(m.Fragment,null,u.a.createElement("header",{className:"site-header"},u.a.createElement("section",{className:"header-section",style:{backgroundImage:"url(".concat(a,")")}},u.a.createElement("div",{className:"header-container"},u.a.createElement("span",{className:"img-container"},u.a.createElement("img",{className:r,src:t,alt:"Profile pic"})),u.a.createElement("div",{className:"header-content"},u.a.createElement("h2",{className:"text-shadow"},"".concat(n)),u.a.createElement("div",{className:"header-button-container"},u.a.createElement("button",{className:"button update-info"},u.a.createElement(E.b,{to:"/home/profile/".concat(e.id)},"UPDATE INFO")),u.a.createElement("button",{className:"button view-activity"},u.a.createElement(E.b,{to:"/home/comments/".concat(e.id)},"VIEW ACTIVITY"))))))))},D=(a(181),function(e){var t=f.b.getImageSize(e.imageUrl),a=f.b.getImageSize(e.loggedInUserProfilePicUrl),r=f.b.isRoot(),n=e.creatorId===e.currentLoggedInUserId,s=e.timelineUserId===e.currentLoggedInUserId,o=e.time.hour<=12?"AM":"PM",i=e.time.month.substring(0,1)+e.time.month.substring(1,5).toLowerCase(),c=e.time.hour<10?"0"+e.time.hour:e.time.hour,l=e.time.minute<10?"0"+e.time.minute:e.time.minute,d=f.b.formatUsername(e.creatorFirstName,e.creatorLastName);return u.a.createElement(m.Fragment,null,u.a.createElement("div",{className:"",id:"container"},u.a.createElement("div",{className:"main-article-comments-container"},u.a.createElement("div",{className:"post-content-article-image"},u.a.createElement("img",{className:a,src:e.creatorProfilePicUrl,alt:"creatorPic"})),u.a.createElement("div",{className:"main-article-shared-content-description"},u.a.createElement("p",{className:"content"},u.a.createElement("span",null,d)," ",e.content," "),u.a.createElement("div",{className:"comment-info"},u.a.createElement("p",{className:"description"}," ",e.time.dayOfMonth," ",i," ",c,":",l," ",o)))),e.imageUrl&&u.a.createElement("div",{className:"post-media"},u.a.createElement("img",{className:t,src:e.imageUrl,alt:"Futurama"})),(r||n||s)&&u.a.createElement("div",{onClick:e.removeComment.bind(void 0,e.commentId)},u.a.createElement("div",{className:"btn uiButtonGroup fbPhotoCurationControl  delete-button"},u.a.createElement("i",{className:"far fa-trash-alt "})))))}),C=function(e){var t=f.b.getImageSize(e.imageUrl),a=f.b.getImageSize(e.loggedInUserProfilePicUrl),r=f.b.isRoot(),n=e.loggedInUserId===e.currentLoggedInUserId,s=e.timelineUserId===e.currentLoggedInUserId,o=e.time.hour<=12?"AM":"PM",i=e.time.month.substring(0,1)+e.time.month.substring(1,5).toLowerCase(),c=e.time.hour<10?"0"+e.time.hour:e.time.hour,l=e.time.minute<10?"0"+e.time.minute:e.time.minute,d=f.b.formatUsername(e.loggedInUserFirstName,e.loggedInUserLastName);return u.a.createElement(m.Fragment,null,u.a.createElement("div",{className:"post-wrapper",id:"container"},u.a.createElement("div",{className:"post-content-article-header "},u.a.createElement("div",{className:"post-content-article-image"},u.a.createElement("img",{className:a,src:e.loggedInUserProfilePicUrl,alt:"bender"})),u.a.createElement("div",{className:"post-content-article-description"},u.a.createElement("p",{className:"post-user-info"},d," "),u.a.createElement("p",{className:"post-description"}," ",e.time.dayOfMonth," ",i," ",c,":",l," ",o))),u.a.createElement("div",{className:"post-content"},u.a.createElement("p",{className:""},e.content," ")),e.imageUrl&&u.a.createElement("div",{className:"post-media"},u.a.createElement("img",{className:t,src:e.imageUrl,alt:"Futurama"})),u.a.createElement("div",{className:"post-footer"},u.a.createElement("div",{className:"post-left-side-icons-container"},u.a.createElement("ul",null,u.a.createElement("li",{className:"like-icon"},u.a.createElement("div",{className:"like-button",onClick:e.addLike.bind(void 0,e.postId)}," ",u.a.createElement("i",{className:"fas fa-thumbs-up"}))),u.a.createElement("li",{className:"like-count"},u.a.createElement("div",null,e.likeCount)),u.a.createElement("li",null,u.a.createElement("i",{className:"fas fa-share"})))),u.a.createElement("div",{className:"post-right-side-icons-container"},u.a.createElement("div",{className:"comment-icon"},u.a.createElement("i",{className:"fas fa-comments"})),u.a.createElement("p",null,e.commentList.length))),(r||n||s)&&u.a.createElement("div",{onClick:e.removePost.bind(void 0,e.postId)},u.a.createElement("div",{className:"btn uiButtonGroup fbPhotoCurationControl  delete-button"},u.a.createElement("i",{className:"far fa-trash-alt "})))),u.a.createElement("div",{className:"comment-wrapper",id:"comment-container"},e.commentList.map(function(t){return u.a.createElement(D,Object.assign({key:t.commentId,addLikeComment:e.addLikeComment,removeComment:e.removeComment,timelineUserId:e.timelineUserId,currentLoggedInUserId:e.currentLoggedInUserId},t))})))},L=(a(183),a(31)),k=a(11),j=a(156),A=a.n(j),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).changeUserData=function(e){a.setState({loggedInUserProfilePicUrl:e.profilePicUrl})},a.handleBlur=function(e){return function(t){a.setState({touched:Object(k.a)({},a.state.touched,Object(L.a)({},e,!0))})}},a.validate=function(e){return{content:0===e.length}},a.state={content:"",imageUrl:"",createPostData:"",touched:{content:!1}},a.handleBlur=a.handleBlur.bind(Object(c.a)(Object(c.a)(a))),a.onChangeHandler=a.onChangeHandler.bind(Object(c.a)(Object(c.a)(a))),a.onSubmitHandler=a.onSubmitHandler.bind(Object(c.a)(Object(c.a)(a))),a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.createPostData.loading||this.props.loadingAllPosts||this.state.createPostData===this.props.createPostData||this.setState({content:"",imageUrl:"",createPostData:this.props.createPostData})}},{key:"onSubmitHandler",value:function(e){if(e.preventDefault(),this.canBeSubmitted()){var t=this.state,a=t.content,r=t.imageUrl;this.props.createPost(a,r)}}},{key:"onChangeHandler",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"canBeSubmitted",value:function(){var e=this.state.content,t=this.validate(e);return!Object.keys(t).some(function(e){return t[e]})}},{key:"render",value:function(){var e=this.state.content,t=this.validate(e),a=!Object.keys(t).some(function(e){return t[e]}),r=a?"":"hidden",n=f.b.getImageSize(this.props.loggedInUser.profilePicUrl),s=this.props.loggedInUser.profilePicUrl,o=this.props.loggedInUser.firstName,i=f.b.formatUsername(o);return u.a.createElement(m.Fragment,null,u.a.createElement("section",{className:"posts-section"},u.a.createElement("div",{className:"write-post",id:"create-post-button-container"},u.a.createElement("div",{className:"post"},u.a.createElement("div",{className:"post-image"},u.a.createElement("img",{className:n,src:s,alt:""})),u.a.createElement("div",{className:"post-area-container"},u.a.createElement("form",{id:"post-form",onSubmit:this.onSubmitHandler},u.a.createElement("div",{className:"",id:"post-textarea-form-group"},u.a.createElement(A.a,{name:"content",id:"content",className:"post-textarea",value:this.state.content,onChange:this.onChangeHandler,onBlur:this.handleBlur("content"),"aria-describedby":"contentHelp",placeholder:"What's on your mind, ".concat(i,"?")})),u.a.createElement("div",{className:"text-center"},u.a.createElement("button",{disabled:!a,style:{visibility:"".concat(r)},type:"submit",className:"btn uiButtonGroup post-button-fbPhotoCurationControl App-button-primary "},"POST"))))))))}}]),t}(m.Component),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).handleBlur=function(e){return function(t){a.setState({touched:Object(k.a)({},a.state.touched,Object(L.a)({},e,!0))})}},a.validate=function(e){return{content:0===e.length}},a.state={content:"",imageUrl:"",createCommentData:"",touched:{content:!1}},a.handleBlur=a.handleBlur.bind(Object(c.a)(Object(c.a)(a))),a.onChangeHandler=a.onChangeHandler.bind(Object(c.a)(Object(c.a)(a))),a.onSubmitHandler=a.onSubmitHandler.bind(Object(c.a)(Object(c.a)(a))),a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.createCommentData.loading||this.props.loadingAllPosts||this.state.createCommentData===this.props.createCommentData||this.setState({content:"",imageUrl:"",createCommentData:this.props.createCommentData})}},{key:"onSubmitHandler",value:function(e){if(e.preventDefault(),this.canBeSubmitted()){var t=this.props.postId,a=this.state,r=a.content,n=a.imageUrl;this.props.createComment(t,r,n)}}},{key:"onChangeHandler",value:function(e){this.setState(Object(L.a)({},e.target.name,e.target.value))}},{key:"canBeSubmitted",value:function(){var e=this.state.content,t=this.validate(e);return!Object.keys(t).some(function(e){return t[e]})}},{key:"render",value:function(){var e=this.state.content,t=this.validate(e),a=!Object.keys(t).some(function(e){return t[e]}),r=a?"":"hidden",n=this.props.loggedInUser.profilePicUrl,s=f.b.getImageSize(n),o=this.props.loggedInUser.firstName,i=f.b.formatUsername(o);return u.a.createElement(m.Fragment,null,u.a.createElement("section",{className:"comment-section"},u.a.createElement("div",{className:"write-comment",id:"create-comment-button-container"},u.a.createElement("div",{className:"post"},u.a.createElement("div",{className:"post-image"},u.a.createElement("img",{className:s,src:n,alt:""})),u.a.createElement("div",{className:"post-area-container"},u.a.createElement("form",{className:"",onSubmit:this.onSubmitHandler},u.a.createElement("div",{className:"",id:"post-textarea-form-group"},u.a.createElement(A.a,{name:"content",id:"content",className:"post-textarea",value:this.state.content,onChange:this.onChangeHandler,onBlur:this.handleBlur("content"),"aria-describedby":"contentHelp",placeholder:"Write a comment, ".concat(i,"!")})),u.a.createElement("div",{className:"text-center"},u.a.createElement("button",{disabled:!a,style:{visibility:"".concat(r)},type:"submit",className:"btn uiButtonGroup post-button-fbPhotoCurationControl App-button-primary "},"POST"))))))))}}]),t}(m.Component),w=a(24),T=a(1),z=function(e,t,a,r){return{type:T.R,error:e,message:t,status:a,path:r}},F=function(e,t,a,r){var n={timelineUserId:e,loggedInUserId:t,content:a,imageUrl:r};return function(t){return t({type:T.Q}),f.a.post("/post/create",n,function(a){if(a.error){var r=a.error,n=a.message,s=a.status,o=a.path;t(z(r,n,s,o))}else t(function(e){return{type:T.S,payload:e}}(a)),t(M(e))}).catch(function(e){403===e.status&&"Your JWT token is expired. Please log in!"===e.message&&localStorage.clear(),t(z("","Error: ".concat(e.message),e.status,""))})}},H=function(e,t,a,r){return{type:T.kb,error:e,message:t,status:a,path:r}},M=function(e){return function(t){return t({type:T.jb}),f.a.get("/post/all/"+e,function(e){if(e.error){var a=e.error,r=e.message,n=e.status,s=e.path;t(H(a,r,n,s))}else t((o=e,{type:T.lb,payload:o}));var o}).catch(function(e){403===e.status&&"Your JWT token is expired. Please log in!"===e.message&&localStorage.clear(),t(H("","Error: ".concat(e.message),e.status,""))})}},R=function(e,t,a,r){return{type:T.ec,error:e,message:t,status:a,path:r}},W=function(e,t,a){var r={loggedInUserId:e,postToRemoveId:t};return function(e){return e({type:T.dc}),f.a.post("/post/remove",r,function(t){if(t.error){var r=t.error,n=t.message,s=t.status,o=t.path;e(R(r,n,s,o))}else e(function(e){return{type:T.fc,payload:e}}(t)),e(M(a))}).catch(function(t){403===t.status&&"Your JWT token is expired. Please log in!"===t.message&&localStorage.clear(),e(R("","Error: ".concat(t.message),t.status,""))})}},_=function(e,t,a,r){return{type:T.e,error:e,message:t,status:a,path:r}},B=function(e,t,a){var r={postId:t,loggedInUserId:e};return function(e){return e({type:T.d}),f.a.post("/like/add",r,function(t){if(t.error){var r=t.error,n=t.message,s=t.status,o=t.path;e(_(r,n,s,o))}else e(function(e){return{type:T.f,payload:e}}(t)),e(M(a))}).catch(function(t){403===t.status&&"Your JWT token is expired. Please log in!"===t.message&&localStorage.clear(),e(_("","Error: ".concat(t.message),t.status,""))})}},Y=function(e,t,a,r){return{type:T.O,error:e,message:t,status:a,path:r}},J=function(e,t,a,r,n){var s={postId:e,loggedInUserId:t,timelineUserId:a,content:r,imageUrl:n};return function(e){return e({type:T.N}),f.a.post("/comment/create",s,function(t){if(t.error){var r=t.error,n=t.message,s=t.status,o=t.path;e(Y(r,n,s,o))}else e(function(e){return{type:T.P,payload:e}}(t)),e(M(a))}).catch(function(t){403===t.status&&"Your JWT token is expired. Please log in!"===t.message&&localStorage.clear(),e(Y("","Error: ".concat(t.message),t.status,""))})}},G=function(e,t,a,r){return{type:T.Vb,error:e,message:t,status:a,path:r}},X=function(e,t,a){var r={loggedInUserId:e,commentToRemoveId:t};return function(e){return e({type:T.Ub}),f.a.post("/comment/remove",r,function(t){if(t.error){var r=t.error,n=t.message,s=t.status,o=t.path;e(G(r,n,s,o))}else e(function(e){return{type:T.Wb,payload:e}}(t)),e(M(a))}).catch(function(t){403===t.status&&"Your JWT token is expired. Please log in!"===t.message&&localStorage.clear(),e(G("","Error: ".concat(t.message),t.status,""))})}},V=function(e,t,a,r){return{type:T.b,error:e,message:t,status:a,path:r}},q=function(e,t,a){var r={commentId:t,loggedInUserId:e};return function(e){return e({type:T.a}),f.a.post("/like/comment",r,function(t){if(t.error){var r=t.error,n=t.message,s=t.status,o=t.path;e(V(r,n,s,o))}else e(function(e){return{type:T.c,payload:e}}(t)),e(M(a))}).catch(function(t){403===t.status&&"Your JWT token is expired. Please log in!"===t.message&&localStorage.clear(),e(V("","Error: ".concat(t.message),t.status,""))})}},Q=a(42),K=a(139),Z=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.id;a.setState({currentTimeLineUserId:e}),e!==a.props.timeLineUser.id?a.initialDataLoad(e):a.getAllPosts(e)},a.initialDataLoad=function(e){a.setState({currentTimeLineUserId:e},function(){a.props.changeTimeLineUser(e),a.props.changeAllPictures(e),a.props.changeAllFriends(e),a.getAllPosts(e)})},a.addLike=function(e){var t=a.props.loggedInUser.id,r=a.props.timeLineUser.id;a.props.addLikePost(t,e,r)},a.addLikeComment=function(e,t){var r=a.props.loggedInUser.id,n=a.props.timeLineUser.id;a.props.addLikeComment(r,e,n)},a.state={currentTimeLineUserId:"",allPostsArr:[]},a.getAllPosts=a.getAllPosts.bind(Object(c.a)(Object(c.a)(a))),a.addLike=a.addLike.bind(Object(c.a)(Object(c.a)(a))),a.removePost=a.removePost.bind(Object(c.a)(Object(c.a)(a))),a.addLikeComment=a.addLikeComment.bind(Object(c.a)(Object(c.a)(a))),a.removeComment=a.removeComment.bind(Object(c.a)(Object(c.a)(a))),a.createPost=a.createPost.bind(Object(c.a)(Object(c.a)(a))),a.createComment=a.createComment.bind(Object(c.a)(Object(c.a)(a))),a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state.currentTimeLineUserId!==this.props.match.params.id&&this.initialDataLoad(this.props.match.params.id),this.props.fetchAllPosts.loading||this.props.removePost.loading||this.props.removeCommentData.loading||this.props.addLikePostData.loading||this.props.addLikeCommentData.loading||this.props.createPostData.loading||this.props.createCommentData.loading||this.state.allPostsArr===this.props.allPostsArr||this.setState({allPostsArr:this.props.allPostsArr});var a=this.getErrorMessage(e,t),r=this.getSuccessMessage(e,t);a?p.toast.error(u.a.createElement(h.d.errorToast,{text:a}),{position:p.toast.POSITION.TOP_RIGHT}):r&&p.toast.success(u.a.createElement(h.d.successToast,{text:r}),{position:p.toast.POSITION.TOP_RIGHT})}},{key:"getSuccessMessage",value:function(e,t){return!this.props.fetchAllPosts.hasError&&this.props.fetchAllPosts.message&&this.props.fetchAllPosts!==e.fetchAllPosts?this.props.fetchAllPosts.message:!this.props.removePostData.hasError&&this.props.removePostData.message&&this.props.removePostData!==e.removePostData?this.props.removePostData.message:!this.props.removeCommentData.hasError&&this.props.removeCommentData.message&&this.props.removeCommentData!==e.removeCommentData?this.props.removeCommentData.message:!this.props.addLikePostData.hasError&&this.props.addLikePostData.message&&this.props.addLikePostData!==e.addLikePostData?this.props.addLikePostData.message:!this.props.addLikeCommentData.hasError&&this.props.addLikeCommentData.message&&this.props.addLikeCommentData!==e.addLikeCommentData?this.props.addLikeCommentData.message:!this.props.createPostData.hasError&&this.props.createPostData.message&&this.props.createPostData!==e.createPostData?this.props.createPostData.message:!this.props.createCommentData.hasError&&this.props.createCommentData.message&&this.props.createCommentData!==e.createCommentData?this.props.createCommentData.message:null}},{key:"getErrorMessage",value:function(e,t){return this.props.fetchAllPosts.hasError&&e.fetchAllPosts.error!==this.props.fetchAllPosts.error?this.props.fetchAllPosts.message||"Server Error":this.props.removePostData.hasError&&e.removePostData.error!==this.props.removePostData.error?this.props.removePostData.message||"Server Error":this.props.removeCommentData.hasError&&e.removeCommentData.error!==this.props.removeCommentData.error?this.props.removeCommentData.message||"Server Error":this.props.addLikePostData.hasError&&e.addLikePostData.error!==this.props.addLikePostData.error?this.props.addLikePostData.message||"Server Error":this.props.addLikeCommentData.hasError&&e.addLikeCommentData.error!==this.props.addLikeCommentData.error?this.props.addLikeCommentData.message||"Server Error":this.props.createPostData.hasError&&e.createPostData.error!==this.props.createPostData.error?this.props.createPostData.message||"Server Error":this.props.createCommentData.hasError&&e.createCommentData.error!==this.props.createCommentData.error?this.props.createCommentData.message||"Server Error":null}},{key:"getAllPosts",value:function(e){this.props.loadAllPosts(e)}},{key:"createPost",value:function(e,t){var a=this.props.loggedInUser.id,r=this.props.timeLineUser.id;this.props.createPost(r,a,e,t)}},{key:"createComment",value:function(e,t,a){var r=this.props.loggedInUser.id,n=this.props.timeLineUser.id;this.props.createComment(e,r,n,t,a)}},{key:"removePost",value:function(e){var t=this.props.loggedInUser.id,a=this.props.timeLineUser.id;this.props.removePost(t,e,a)}},{key:"removeComment",value:function(e){var t=this.props.loggedInUser.id,a=this.props.timeLineUser.id;this.props.removeComment(t,e,a)}},{key:"render",value:function(){var e=this;return u.a.createElement(m.Fragment,null,u.a.createElement("article",{className:"main-article-shared-content"},u.a.createElement(x,{loggedInUser:this.props.loggedInUser,createPost:this.createPost,createPostData:this.props.createPostData,loadingAllPosts:this.props.fetchAllPosts.loading}),u.a.createElement("section",{className:"post-content-section"},this.state.allPostsArr.map(function(t,a){return u.a.createElement(m.Fragment,{key:t.postId},u.a.createElement(C,Object.assign({addLike:e.addLike,removePost:e.removePost,addLikeComment:e.addLikeComment,removeComment:e.removeComment},t,{timelineUserId:e.props.timeLineUser.id,currentLoggedInUserId:e.props.loggedInUser.id})),u.a.createElement(S,{timelineUserId:e.props.timeLineUser.id,loggedInUser:e.props.loggedInUser,getAllPosts:e.getAllPosts,createComment:e.createComment,createCommentData:e.props.createCommentData,loadingAllPosts:e.props.fetchAllPosts.loading,postId:t.postId}))}))))}}]),t}(m.Component),$=Object(w.b)(function(e){return{loggedInUser:e.loggedInUserData,timeLineUser:e.timeLineUserData,allPostsArr:e.fetchAllPosts.allPostsArr,fetchAllPosts:e.fetchAllPosts,createPostData:e.createPost,removePostData:e.removePost,addLikePostData:e.addLikePost,createCommentData:e.createComment,removeCommentData:e.removeComment,addLikeCommentData:e.addLikeComment}},function(e){return{loadAllPosts:function(t){e(M(t))},createPost:function(t,a,r){e(F(t,a,r))},removePost:function(t,a,r){e(W(t,a,r))},addLikePost:function(t,a,r){e(B(t,a,r))},createComment:function(t,a,r,n,s){e(J(t,a,r,n,s))},removeComment:function(t,a,r){e(X(t,a,r))},addLikeComment:function(t,a,r){e(q(t,a,r))},changeTimeLineUser:function(t){e(Object(Q.d)(t))},changeAllFriends:function(t){e(Object(Q.c)(t))},changeAllPictures:function(t){e(Object(K.b)(t))}}})(Z),ee=function(e){var t=y.a.formatUsername(e.firstName,e.lastName);return u.a.createElement(m.Fragment,null,u.a.createElement("article",{className:"aside-article-intro"},u.a.createElement("div",{className:"aside-article-header"},u.a.createElement("div",{className:"aside-article-icon"},u.a.createElement("i",{className:"fas fa-globe-asia"})),u.a.createElement("h3",{className:"aside-article-title"},"Intro")),u.a.createElement("div",{className:"hr-styles",style:{width:"90%"}}),u.a.createElement("div",{className:"aside-intro-content"},u.a.createElement("h4",{className:"occupation"},t),u.a.createElement("p",null,"Lives at ",e.address,",  in ",e.city,"."),u.a.createElement("p",null,"From ",e.city,".")),u.a.createElement("button",{className:"button update-info"},u.a.createElement(E.b,{className:"about  ",exact:!0,to:"/home/profile/".concat(e.id)},"UPDATE INFO"))))},te=function(e){var t=f.b.getImageSize(e.imageUrl);return u.a.createElement("li",null,u.a.createElement("div",{className:"zoom"},u.a.createElement("img",{className:t,src:e.imageUrl,alt:""})))},ae=function(e){return u.a.createElement(m.Fragment,null,u.a.createElement("article",{className:"aside-article-photos"},u.a.createElement("div",{className:"aside-article-header"},u.a.createElement("div",{className:"aside-article-icon"},u.a.createElement("i",{className:"fas fa-images"})),u.a.createElement(E.b,{className:"friends ",exact:!0,to:"/home/gallery/".concat(e.timeLineUserId)},u.a.createElement("h3",{className:"aside-article-title",style:{color:" #333"}},"Photos \u2022 ",e.picturesArr.length))),u.a.createElement("div",{className:"hr-styles",style:{width:"90%"}}),u.a.createElement("ul",{className:"aside-article-gallery bender-photos"},e.picturesArr.map(function(e){return u.a.createElement(te,Object.assign({key:e.id},e))}))))},re=function(e){return u.a.createElement(m.Fragment,null,u.a.createElement("article",{className:"aside-article-friends"},u.a.createElement("div",{className:"aside-article-header"},u.a.createElement("div",{className:"aside-article-icon"},u.a.createElement("i",{className:"fas fa-user-friends"})),u.a.createElement(E.b,{className:"friends ",exact:!0,to:"/home/friends/".concat(e.timeLineUserId)},u.a.createElement("h3",{className:"aside-article-title",style:{color:" #333"}},"Friends \u2022 ",e.friendsArr.length))),u.a.createElement("div",{className:"hr-styles",style:{width:"90%"}}),u.a.createElement("ul",{className:"aside-article-gallery "},e.friendsArr.map(function(e){var t=e.profilePicUrl||N.a,a=f.b.getImageSize(t),r="";return r=e.firstName.length>10?f.b.formatUsername(e.firstName,"",10):f.b.formatUsername(e.firstName,e.lastName,15),u.a.createElement("li",{key:e.id},u.a.createElement(E.b,{to:"#"},u.a.createElement("img",{className:a,src:t,alt:"Pic"})),u.a.createElement("div",{className:"img-details"},u.a.createElement("p",{className:"user-name"},r)," "))}))))},ne=a(38);function se(){var e=Object(l.a)(["\n        display: block;\n        margin: 0 auto;\n        border-color: red;\n"]);return se=function(){return e},e}var oe=Object(m.lazy)(function(){return a.e(5).then(a.bind(null,240))}),ie=Object(m.lazy)(function(){return a.e(6).then(a.bind(null,241))}),ce=Object(m.lazy)(function(){return a.e(7).then(a.bind(null,242))}),le=Object(m.lazy)(function(){return a.e(8).then(a.bind(null,243))}),me=Object(m.lazy)(function(){return a.e(9).then(a.bind(null,244))}),ue=Object(m.lazy)(function(){return a.e(10).then(a.bind(null,250))}),de=Object(m.lazy)(function(){return a.e(11).then(a.bind(null,245))}),pe=Object(m.lazy)(function(){return a.e(12).then(a.bind(null,246))}),he=Object(m.lazy)(function(){return a.e(13).then(a.bind(null,251))}),fe=Object(m.lazy)(function(){return a.e(14).then(a.bind(null,248))}),ge=Object(m.lazy)(function(){return Promise.all([a.e(17),a.e(15)]).then(a.bind(null,249))}),ve=Object(m.lazy)(function(){return Promise.resolve().then(a.bind(null,50))}),Ee=Object(g.css)(se()),be=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(o.a)(t).call(this,e))).loadAllPictures=function(e){a.props.loadAllPictures(e)},a.loadAllFriends=function(e){a.props.loadAllFriends(e)},a.state={ready:!1},a.loadAllPictures=a.loadAllPictures.bind(Object(c.a)(Object(c.a)(a))),a.loadAllFriends=a.loadAllFriends.bind(Object(c.a)(Object(c.a)(a))),a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){var e=f.b.getUserId(),t=f.b.getUserId();this.props.loadLoggedInUserData(e),this.loadAllPictures(t),this.loadAllFriends(t),this.props.findFriends(e),this.props.loadAllUnreadMessages(),this.setState({ready:!0})}},{key:"componentDidUpdate",value:function(e,t){var a=this.getErrorMessage(e),r=this.getSuccessMessage(e);a?p.toast.error(u.a.createElement(h.d.errorToast,{text:a}),{position:p.toast.POSITION.TOP_RIGHT}):r&&p.toast.success(u.a.createElement(h.d.successToast,{text:r}),{position:p.toast.POSITION.TOP_RIGHT})}},{key:"getSuccessMessage",value:function(e){return!this.props.fetchPictures.hasError&&this.props.fetchPictures.message&&this.props.fetchPictures!==e.fetchPictures?this.props.fetchPictures.message:!this.props.loggedInUserData.hasError&&this.props.loggedInUserData.message&&this.props.loggedInUserData!==e.loggedInUserData?this.props.loggedInUserData.message:!this.props.fetchAllFriends.hasError&&this.props.fetchAllFriends.message&&this.props.fetchAllFriends!==e.fetchAllFriends?this.props.fetchAllFriends.message:null}},{key:"getErrorMessage",value:function(e){return this.props.fetchPictures.hasError&&e.fetchPictures.error!==this.props.fetchPictures.error?this.props.fetchPictures.message||"Server Error":this.props.loggedInUserData.hasError&&e.loggedInUserData.error!==this.props.loggedInUserData.error?this.props.loggedInUserData.message||"Server Error":this.props.fetchAllFriends.hasError&&e.fetchAllFriends.error!==this.props.fetchAllFriends.error?this.props.fetchAllFriends.message||"Server Error":null}},{key:"render",value:function(){var e=f.b.isRoot(),t=f.b.isAdmin(),a=this.props.loggedInUserData.id===this.props.timeLineUserData.id,r=f.b.isTheUserLoggedIn();return u.a.createElement(m.Fragment,null,u.a.createElement(I,this.props.timeLineUserData),u.a.createElement("main",{className:"site-content"},u.a.createElement("section",{className:"main-section"},u.a.createElement(b,this.props.timeLineUserData),u.a.createElement(m.Suspense,{fallback:u.a.createElement("div",{className:"sweet-loading"},u.a.createElement(v.CircleLoader,{css:Ee,sizeUnit:"px",size:150,color:"#61dafb",loading:!0}))},u.a.createElement(d.c,null,r&&u.a.createElement(d.a,{exact:!0,path:"/home/comments/:id",component:$}),r&&u.a.createElement(d.a,{exact:!0,path:"/home/profile/:id",component:ie}),r&&(e||t||a)&&u.a.createElement(d.a,{exact:!0,path:"/home/users/edit/:id",component:de}),r&&(e||t)&&u.a.createElement(d.a,{exact:!0,path:"/home/users/all/:id",component:ue}),r&&e&&u.a.createElement(d.a,{exact:!0,path:"/home/users/delete/:id",component:pe}),r&&u.a.createElement(d.a,{exact:!0,path:"/home/gallery/:id",component:he})," />}",r&&(e||t)&&u.a.createElement(d.a,{exact:!0,path:"/home/logs/:id",component:fe}),r&&u.a.createElement(d.a,{exact:!0,path:"/home/friends/:id",component:ce}),r&&u.a.createElement(d.a,{exact:!0,path:"/home/findFriends/:id",component:le}),r&&u.a.createElement(d.a,{exact:!0,path:"/home/friendRequests/:id",component:me}),r&&u.a.createElement(d.a,{exact:!0,path:"/home/users/search/",component:oe}),u.a.createElement(d.a,{exact:!0,path:"/error",component:ve}),u.a.createElement(d.a,{component:ve})))),u.a.createElement(m.Fragment,null,u.a.createElement("section",{className:"aside-section"},u.a.createElement(ee,this.props.timeLineUserData),u.a.createElement(ae,{picturesArr:this.props.picturesArr,timeLineUserId:this.props.timeLineUserData.id}),u.a.createElement(re,{friendsArr:this.props.friendsArr,timeLineUserId:this.props.timeLineUserData.id}),u.a.createElement(ge,null)))))}}]),t}(m.Component);t.default=Object(w.b)(function(e){return{picturesArr:e.fetchPictures.picturesArr,fetchPictures:e.fetchPictures,timeLineUserData:e.timeLineUserData,loggedInUserData:e.loggedInUserData,friendsArr:e.fetchAllFriends.friendsArr,fetchAllFriends:e.fetchAllFriends}},function(e){return{loadAllPictures:function(t){e(Object(K.c)(t))},loadLoggedInUserData:function(t){e(Object(Q.k)(t))},loadTimelineUserData:function(t){e(Object(Q.l)(t))},loadAllFriends:function(t){e(Object(Q.i)(t))},findFriends:function(t){e(Object(Q.m)(t))},loadAllUnreadMessages:function(){e(Object(ne.c)())}}})(be)}}]);
//# sourceMappingURL=4.a2b3a19d.chunk.js.map